<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Chivo+Mono:ital,wght@1,100&display=swap">
    <link rel="stylesheet" href="/css/login.css">
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.1/firebase-analytics.js"></script>
    <script src="/js/firebase-config.js"></script>
    <!-- Include the Google Sign-in API library -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <!-- Your Firebase initialization script -->
    <script>
       
        // Initialize the Google Sign-in client with your client ID
        gapi.load('auth2', function() {
              gapi.auth2.init({
                  client_id: '959450861298-p3sqsbnkcmoni23jtnp6jp8mpp0ourbi.apps.googleusercontent.com',
                  scope: 'profile email'
              });
          });
      
          const auth = firebase.auth();
          const googleProvider = new firebase.auth.GoogleAuthProvider();
      
          function signInWithGoogle() {
              console.log('Attempting Google Sign In');
              auth.signInWithPopup(googleProvider)
                  .then((result) => {
                      const user = result.user;
                      // Handle user data as needed
                      console.log('User signed in:', user);
      
                      // Redirect the user to the desired page
                      window.location.href = "/html/main.html";
                  })
                  .catch((error) => {
                      console.error('Google Sign-In Error:', error);
                  });
          }
      </script>
</head>
<body>
    <!-- Your existing HTML body -->
    <div class="loader-container" id="loader-container">
        <div class="loader"></div>
    </div>

    <div id="particles-js"></div>
    <div class="container">
        <div class="card">
            <h2>Login</h2>
            <button id="google-signin-button" class="btn google" onclick="signInWithGoogle()"><i class="fab fa-google"></i> Login with Google</button>
            <div class="extra">
                <p>By logging in, you state your representation in our<br><span><a href="/html/privacypolicy.html" style="color: white;">Privacy Policy</a></span></p>
            </div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="/js/index(particle).js"></script>
    <script src="/js/particles.js"></script>
    <script src="/js/login.js"></script>

    <script>
        // For preloader
        // Show the loader
        function showLoader() {
            document.getElementById("loader-container").style.display = "flex";
        }

        // Hide the loader and redirect the page
        function hideLoaderAndRedirect() {
            document.getElementById("loader-container").style.display = "none";
        }

        // Wait for the page to load
        window.addEventListener("load", function() {
            // Show the loader
            showLoader();

            // Set a delay to simulate the preloader animation
            setTimeout(function() {
                // Hide the loader and redirect the page
                hideLoaderAndRedirect();
            }, 3000); // Replace 3000 with the duration of your preloader animation in milliseconds
        });
    </script>
</body>
</html>
