<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Chivo+Mono:ital,wght@1,100&display=swap">
    <link rel="stylesheet" href="/css/login.css">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
</head>
<body>
<div class="loader-container" id="loader-container">
    <div class="loader"></div>
</div>

<div id="particles-js"></div>
<div class="container">
    <div class="card">
        <h2>Login</h2>
        <a href="#" id="google-signin-button" class="btn google" data-onsuccess="onSignIn"><i class="fab fa-google"></i> Login with Google</a>
        <div class="extra">
            <p>By logging in, you state your representation in our<br><span><a href="/html/privacypolicy.html" style="color: white;">Privacy Policy</a></span></p>
        </div>
    </div>
</div>

<script>
    // Initialize the Google Sign-in client with your client ID
    gapi.load('auth2', function() {
        gapi.auth2.init({
            client_id: '959450861298-p3sqsbnkcmoni23jtnp6jp8mpp0ourbi.apps.googleusercontent.com',
            scope: 'profile email'
        }).then(function() {
            // Attach the onSignIn function to the Google Sign-in button
            var signinButton = document.getElementById('google-signin-button');
            signinButton.addEventListener('click', onSignIn);
        });
    });

    // Implement a function to handle the user authentication response
    function onSignIn(googleUser) {
        // Handle the login response here, extract user information, etc.
        var profile = googleUser.getBasicProfile();
        console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
        console.log('Name: ' + profile.getName());
        console.log('Image URL: ' + profile.getImageUrl());
        console.log('Email: ' + profile.getEmail());

        // Redirect the user to the desired page
        window.location.href = "/main.html";
    }
</script>

<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="/js/index(particle).js"></script>
<script src="/js/particles.js"></script>
<script src="/js/login.js"></script>

<script>
    // For preloader
    // Show the loader
    function showLoader() {
        document.getElementById("loader-container").style.display = "flex";
    }

    // Hide the loader and redirect the page
    function hideLoaderAndRedirect() {
        document.getElementById("loader-container").style.display = "none";
    }

    // Wait for the page to load
    window.addEventListener("load", function() {
        // Show the loader
        showLoader();

        // Set a delay to simulate the preloader animation
        setTimeout(function() {
            // Hide the loader and redirect the page
            hideLoaderAndRedirect();
        }, 3000); // Replace 3000 with the duration of your preloader animation in milliseconds
    });
</script>

</body>
</html>
